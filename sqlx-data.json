{
  "db": "PostgreSQL",
  "0e5cb921313be374a1565a52e3f3238829b2ff30627a7f28c62f43e589d3c530": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n        INSERT INTO idempotency (\n            user_id,\n            idempotency_key,\n            created_at \n        )\n        VALUES ($1, $2, now()) \n        ON CONFLICT DO NOTHING \n        "
  },
  "1a66539537c71a52ffacfe03719f39c0e6b174a6cecccbfba7750371af8cd19d": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "password_hash",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n        SELECT user_id, password_hash FROM users\n        WHERE username = $1\n        "
  },
  "31bd22ae5dee953cfa31c61c4dede6b2c3dc125364a6ed3af4c2b64101a3c610": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        SELECT username \n        FROM users\n        WHERE user_id = $1\n        "
  },
  "50f02a68cd9c31d35b63801122caaafd23adeb3298696ffdda1e89842fa88ddb": {
    "describe": {
      "columns": [
        {
          "name": "newsletter_issue_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "subscriber_email",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n        SELECT\n            newsletter_issue_id,\n            subscriber_email \n        FROM issue_delivery_queue\n        FOR UPDATE\n        SKIP LOCKED\n        LIMIT 1\n        "
  },
  "56c7fde34fa1a4330c12877854206afd70c698e285586d1306ea9d62f8d3c018": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int2",
          {
            "Custom": {
              "kind": {
                "Array": {
                  "Custom": {
                    "kind": {
                      "Composite": [
                        [
                          "name",
                          "Text"
                        ],
                        [
                          "value",
                          "Bytea"
                        ]
                      ]
                    },
                    "name": "header_pair"
                  }
                }
              },
              "name": "_header_pair"
            }
          },
          "Bytea"
        ]
      }
    },
    "query": "\n        UPDATE idempotency \n        SET \n            response_status_code = $3,\n            response_headers = $4,\n            response_body = $5\n        WHERE\n            user_id = $1 AND\n            idempotency_key = $2\n        "
  },
  "6b12be49c60adaa12ab16b2145af2b86f5cdf9f9f2f293515f7e8b6346e1acc1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": " INSERT INTO subscriptions (id, email, name, subscribed_at, status) VALUES ($1, $2, $3, $4, 'pending_confirmation') "
  },
  "794c0ce1ab5e766961132366163df7a7183ae7985228bf585700250deb38b726": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n        INSERT INTO newsletter_issues (\n            newsletter_issue_id,\n            title,\n            text_content,\n            html_content,\n            published_at\n        )\n        VALUES ($1, $2, $3, $4, now())\n        "
  },
  "8331e19e367a63b0c2112d1d8c048dd1a5f0eaa49d265d407a6ffd9469f127ce": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO subscription_tokens (subscription_token, subscriber_id) VALUES ($1, $2)"
  },
  "8362a5ddd2b96f6ea5b0b098505e09ac6ae3783a850cf128c50a9e3c93a7265b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "\n                UPDATE users\n                SET password_hash = $1\n                WHERE user_id = $2\n            "
  },
  "90d05553337cacb7db5c5ea359b390dea1351c2c30edf8e9b1e0fb764cc02b84": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n        DELETE FROM issue_delivery_queue\n        WHERE\n            newsletter_issue_id = $1 AND\n            subscriber_email = $2 "
  },
  "9bfa261067713ca31b191c9f9bcf19ae0dd2d12a570ce06e8e2abd72c5d7b42d": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        INSERT INTO issue_delivery_queue (\n            newsletter_issue_id,\n            subscriber_email\n        )\n        SELECT $1, email\n        FROM subscriptions\n        WHERE status = 'confirmed'\n        "
  },
  "a0d30dda7c6ee128e77517851ebcd63dec978ad766f59f22ee683cd058b49727": {
    "describe": {
      "columns": [
        {
          "name": "response_status_code!",
          "ordinal": 0,
          "type_info": "Int2"
        },
        {
          "name": "response_headers: Vec<HeaderPairRecord>",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Array": {
                  "Custom": {
                    "kind": {
                      "Composite": [
                        [
                          "name",
                          "Text"
                        ],
                        [
                          "value",
                          "Bytea"
                        ]
                      ]
                    },
                    "name": "header_pair"
                  }
                }
              },
              "name": "_header_pair"
            }
          }
        },
        {
          "name": "response_body!",
          "ordinal": 2,
          "type_info": "Bytea"
        }
      ],
      "nullable": [
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n            SELECT\n                response_status_code as \"response_status_code!\",\n                response_headers as \"response_headers: Vec<HeaderPairRecord>\",\n                response_body as \"response_body!\"\n            FROM idempotency\n            WHERE\n              user_id = $1 AND\n              idempotency_key = $2 \n        "
  },
  "a71a1932b894572106460ca2e34a63dc0cb8c1ba7a70547add1cddbb68133c2b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "UPDATE subscriptions SET status = 'confirmed' WHERE id = $1"
  },
  "ad120337ee606be7b8d87238e2bb765d0da8ee61b1a3bc142414c4305ec5e17f": {
    "describe": {
      "columns": [
        {
          "name": "subscriber_id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT subscriber_id FROM subscription_tokens WHERE subscription_token = $1"
  },
  "f3a9a60eb95fff10067c1fbb0952d974c703413416cff304d8c0e4e50f5d0c94": {
    "describe": {
      "columns": [
        {
          "name": "title",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "text_content",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "html_content",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        SELECT title, text_content, html_content\n        FROM newsletter_issues\n        WHERE\n            newsletter_issue_id = $1 "
  }
}